<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Message Protocol - Just the Docs Template</title> <link rel="shortcut icon" href="/favicon.png" type="image/png"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/victormono@latest/dist/index.min.css"> <!-- --> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <script src="/assets/js/web-workers/authenticator-timing.js"></script> <script src="/assets/js/simple-storage.js"></script> <script src="/assets/js/authenticator.js"></script> <script src="/assets/js/try-box.js"></script> <script src="/assets/js/callout.js"></script> <script src="/assets/js/websocket.js"></script> <script src="/assets/js/stupid-global-events.js"></script> <!-- <script src="https://cdn.jsdelivr.net/npm/device-uuid@1.0.4/index.min.js"></script> --> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Message Protocol | Just the Docs Template</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Message Protocol" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <meta property="og:description" content="A starter template for a Jeykll site using the Just the Docs theme!" /> <link rel="canonical" href="http://localhost:4000/wss-guide/message-protocol" /> <meta property="og:url" content="http://localhost:4000/wss-guide/message-protocol" /> <meta property="og:site_name" content="Just the Docs Template" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Message Protocol" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A starter template for a Jeykll site using the Just the Docs theme!","headline":"Message Protocol","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/tradovate-negative.svg"}},"url":"http://localhost:4000/wss-guide/message-protocol"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Just the Docs Template"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Tradovate API</a></li><li class="nav-list-item"><a href="/getting-started" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="/architecture-overview" class="nav-list-link">Architecture Overview</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in REST Guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/rest-guide/" class="nav-list-link">REST Guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/rest-guide/access-token-request/" class="nav-list-link">Requesting API Access</a></li><li class="nav-list-item"><a href="/rest-guide/construct-headers/" class="nav-list-link">Constructing HTTP Headers</a></li><li class="nav-list-item"><a href="/rest-guide/device-id/" class="nav-list-link">How to Use Device IDs</a></li><li class="nav-list-item"><a href="/rest-guide/renewing-access/" class="nav-list-link">Renewing Your Access Token</a></li><li class="nav-list-item"><a href="/rest-guide/place-an-order/" class="nav-list-link">Place An Order</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The Entity System category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/entity-system/" class="nav-list-link">The Entity System</a><ul class="nav-list"><li class="nav-list-item"><a href="/entity-system/entities-are-related/" class="nav-list-link">Entities are Related</a></li><li class="nav-list-item"><a href="/entity-system/shared-ops/" class="nav-list-link">Common Operations</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Entities Index category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/entity-system/entity-index/" class="nav-list-link">Entities Index</a><ul class="nav-list"><li class="nav-list-item"> <a href="/entity-system/entity-index/accesstokenresponse" class="nav-list-link">AccessTokenResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/account" class="nav-list-link">Account</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/accountriskstatus" class="nav-list-link">AccountRiskStatus</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/cashbalance" class="nav-list-link">CashBalance</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/cashbalancelog" class="nav-list-link">CashBalanceLog</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/cashbalancesnapshot" class="nav-list-link">CashBalanceSnapshot</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/checkreplaysessionresponse" class="nav-list-link">CheckReplaySessionResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/command" class="nav-list-link">Command</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/commandreport" class="nav-list-link">CommandReport</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/commandresult" class="nav-list-link">CommandResult</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/contactinfo" class="nav-list-link">ContactInfo</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/contract" class="nav-list-link">Contract</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/contractgroup" class="nav-list-link">ContractGroup</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/contractmargin" class="nav-list-link">ContractMargin</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/contractmaturity" class="nav-list-link">ContractMaturity</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/currency" class="nav-list-link">Currency</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/currencyrate" class="nav-list-link">CurrencyRate</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/deleteresultresponse" class="nav-list-link">DeleteResultResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/entitlement" class="nav-list-link">Entitlement</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/entitlementsubscription" class="nav-list-link">EntitlementSubscription</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/entitlementsubscriptionresponse" class="nav-list-link">EntitlementSubscriptionResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/executionreport" class="nav-list-link">ExecutionReport</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/fill" class="nav-list-link">Fill</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/fillfee" class="nav-list-link">FillFee</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/fillpair" class="nav-list-link">FillPair</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/marginsnapshot" class="nav-list-link">MarginSnapshot</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/order" class="nav-list-link">Order</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/orderstrategy" class="nav-list-link">OrderStrategy</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/orderstrategylink" class="nav-list-link">OrderStrategyLink</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/orderstrategystatusresponse" class="nav-list-link">OrderStrategyStatusResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/orderstrategytype" class="nav-list-link">OrderStrategyType</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/orderversion" class="nav-list-link">OrderVersion</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/placeocoresult" class="nav-list-link">PlaceOcoResult</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/placeorderresult" class="nav-list-link">PlaceOrderResult</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/placeosoresult" class="nav-list-link">PlaceOsoResult</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/position" class="nav-list-link">Position</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/product" class="nav-list-link">Product</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/productfeeparamsresponse" class="nav-list-link">ProductFeeParamsResponse</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/productmargin" class="nav-list-link">ProductMargin</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/productsession" class="nav-list-link">ProductSession</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/restrainedorderversion" class="nav-list-link">RestrainedOrderVersion</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/tradedate" class="nav-list-link">TradeDate</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/tradetime" class="nav-list-link">TradeTime</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/tradingpermission" class="nav-list-link">TradingPermission</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/tradovatesubscription" class="nav-list-link">TradovateSubscription</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/user" class="nav-list-link">User</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/useraccountautoliq" class="nav-list-link">UserAccountAutoLiq</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/useraccountpositionlimit" class="nav-list-link">UserAccountPositionLimit</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/useraccountriskparameter" class="nav-list-link">UserAccountRiskParameter</a> </li><li class="nav-list-item"> <a href="/entity-system/entity-index/userplugin" class="nav-list-link">UserPlugin</a> </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in WebSocket Guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/wss-guide/" class="nav-list-link">WebSocket Guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/wss-guide/message-protocol" class="nav-list-link">Message Protocol</a></li><li class="nav-list-item"><a href="/wss-guide/heartbeats" class="nav-list-link">Heartbeats</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Market Replay category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/wss-guide/market-replay" class="nav-list-link">Market Replay</a><ul class="nav-list"><li class="nav-list-item"> <a href="/wss-guide/market-replay/change-speed" class="nav-list-link">replay/changeSpeed</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-replay/check-replay-session" class="nav-list-link">replay/checkReplaySession</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-replay/initialize-clock" class="nav-list-link">replay/initializeClock</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Realtime Market Data category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/wss-guide/market-data" class="nav-list-link">Realtime Market Data</a><ul class="nav-list"><li class="nav-list-item"> <a href="/wss-guide/market-data/cancel-chart" class="nav-list-link">md/cancelChart</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/getchart" class="nav-list-link">md/getChart</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/subscribe-dom" class="nav-list-link">md/subscribeDOM</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/subscribe-histogram" class="nav-list-link">md/subscribeHistogram</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/subscribe-quote" class="nav-list-link">md/subscribeQuote</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/unsubscribe-dom" class="nav-list-link">md/unsubscribeDOM</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/unsubscribe-histogram" class="nav-list-link">md/unsubscribeHistogram</a> </li><li class="nav-list-item"> <a href="/wss-guide/market-data/unsubscribe-quote" class="nav-list-link">md/unsubscribeQuote</a> </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in API Operations category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops" class="nav-list-link">API Operations</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Accounting category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/account" class="nav-list-link">Accounting</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/cashbalance/getcashbalancesnapshot" class="nav-list-link">/account/getCashBalanceSnapshot</a> </li><li class="nav-list-item"> <a href="/all-ops/account/resetdemoaccountstate" class="nav-list-link">/account/resetDemoAccountState</a> </li><li class="nav-list-item"> <a href="/all-ops/cashbalance/changedemobalance" class="nav-list-link">/cashBalance/changeDemoBalance</a> </li><li class="nav-list-item"> <a href="/all-ops/fundtransaction/adjustcash" class="nav-list-link">/fundTransaction/adjustCash</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Alerts category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/alert" class="nav-list-link">Alerts</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/adminalertsignal/completealertsignal" class="nav-list-link">/adminAlertSignal/completeAlertSignal</a> </li><li class="nav-list-item"> <a href="/all-ops/alert/createalert" class="nav-list-link">/alert/createAlert</a> </li><li class="nav-list-item"> <a href="/all-ops/contactinfo/updatecontactinfo" class="nav-list-link">/contactInfo/updateContactInfo</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Auth category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/auth" class="nav-list-link">Auth</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/auth/accesstokenrequest" class="nav-list-link">/auth/accesstokenrequest</a> </li><li class="nav-list-item"> <a href="/all-ops/auth/me" class="nav-list-link">/auth/me</a> </li><li class="nav-list-item"> <a href="/all-ops/auth/oauthtoken" class="nav-list-link">/auth/oAuthToken</a> </li><li class="nav-list-item"> <a href="/all-ops/auth/renewaccesstoken" class="nav-list-link">/auth/renewAccessToken</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Cash Balance category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/cashbalance" class="nav-list-link">Cash Balance</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Contract Library category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/contract" class="nav-list-link">Contract Library</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/contract/getproductfeeparams" class="nav-list-link">/contract/getProductFeeParams</a> </li><li class="nav-list-item"> <a href="/all-ops/contract/rollcontract" class="nav-list-link">/contract/rollContract</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Orders category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/order" class="nav-list-link">Orders</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/order/cancelorder" class="nav-list-link">/order/cancelOrder</a> </li><li class="nav-list-item"> <a href="/all-ops/order/liquidateposition" class="nav-list-link">/order/liquidatePosition</a> </li><li class="nav-list-item"> <a href="/all-ops/order/modifyorder" class="nav-list-link">/order/modifyOrder</a> </li><li class="nav-list-item"> <a href="/all-ops/order/placeoco" class="nav-list-link">/order/placeOCO</a> </li><li class="nav-list-item"> <a href="/all-ops/order/placeoso" class="nav-list-link">/order/placeOSO</a> </li><li class="nav-list-item"> <a href="/all-ops/order/placeorder" class="nav-list-link">/order/placeOrder</a> </li><li class="nav-list-item"> <a href="/all-ops/orderstrategy/interruptorderstrategy" class="nav-list-link">/orderStrategy/interruptOrderStrategy</a> </li><li class="nav-list-item"> <a href="/all-ops/orderstrategy/modifyorderstrategy" class="nav-list-link">/orderStrategy/modifyOrderStrategy</a> </li><li class="nav-list-item"> <a href="/all-ops/orderstrategy/startorderstrategy" class="nav-list-link">/orderStrategy/startOrderStrategy</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Risks category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/risks" class="nav-list-link">Risks</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/useraccountautoliq/update" class="nav-list-link">/userAccountAutoLiq/update</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/useraccountpositionlimit/create" class="nav-list-link">/userAccountPositionLimit/create</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/deleteuseraccountpositionlimit" class="nav-list-link">/userAccountPositionLimit/deleteUserAccountPositionLimit</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/deleteuseraccountriskparameter" class="nav-list-link">/userAccountPositionLimit/deleteUserAccountRiskParameter</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/useraccountpositionlimitupdate" class="nav-list-link">/userAccountPositionLimit/update</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/useraccountriskparametercreate" class="nav-list-link">/userAccountRiskParameter/create</a> </li><li class="nav-list-item"> <a href="/all-ops/risks/useraccountriskparameterupdate" class="nav-list-link">/userAccountRiskParameter/update</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Shared category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/shared" class="nav-list-link">Shared</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/shared/deps" class="nav-list-link">/deps</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/find" class="nav-list-link">/find</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/item" class="nav-list-link">/item</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/items" class="nav-list-link">/items</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/ldeps" class="nav-list-link">/ldeps</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/list" class="nav-list-link">/list</a> </li><li class="nav-list-item"> <a href="/all-ops/shared/suggest" class="nav-list-link">/suggest</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Users category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/user" class="nav-list-link">Users</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/user/addmarketdatasubscription" class="nav-list-link">/user/addMarketDataSubscription</a> </li><li class="nav-list-item"> <a href="/all-ops/user/addtradovatesubscription" class="nav-list-link">/user/addTradovateSubscription</a> </li><li class="nav-list-item"> <a href="/all-ops/user/canceleverything" class="nav-list-link">/user/cancelEverything</a> </li><li class="nav-list-item"> <a href="/all-ops/user/canceltradovatesubscription" class="nav-list-link">/user/cancelTradovateSubscription</a> </li><li class="nav-list-item"> <a href="/all-ops/user/changepluginpermission" class="nav-list-link">/user/changePluginPermission</a> </li><li class="nav-list-item"> <a href="/all-ops/user/createtradingpermission" class="nav-list-link">/user/createTradingPermission</a> </li><li class="nav-list-item"> <a href="/all-ops/user/opendemoaccount" class="nav-list-link">/user/openDemoAccount</a> </li><li class="nav-list-item"> <a href="/all-ops/user/requesttradingpermission" class="nav-list-link">/user/requestTradingPermission</a> </li><li class="nav-list-item"> <a href="/all-ops/user/revoketradingpermission" class="nav-list-link">/user/revokeTradingPermission</a> </li><li class="nav-list-item"> <a href="/all-ops/user/revoketradingpermissions" class="nav-list-link">/user/revokeTradingPermissions</a> </li><li class="nav-list-item"> <a href="/all-ops/user/signuporganizationmember" class="nav-list-link">/user/signupOrganizationMember</a> </li><li class="nav-list-item"> <a href="/all-ops/userplugin/addentitlementsubscription" class="nav-list-link">/userPlugin/addEntitlementSubscription</a> </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in WebSockets category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/all-ops/websockets" class="nav-list-link">WebSockets</a><ul class="nav-list"><li class="nav-list-item"> <a href="/all-ops/websockets/play" class="nav-list-link">WebSocket Playground</a> </li><li class="nav-list-item"> <a href="/all-ops/websockets/auth" class="nav-list-link">Authorization Procedure</a> </li><li class="nav-list-item"> <a href="/all-ops/websockets/messages" class="nav-list-link">Listen to Message Events</a> </li><li class="nav-list-item"> <a href="/all-ops/websockets/syncRequest" class="nav-list-link">user/syncRequest</a> </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in API FAQ category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/api-faq" class="nav-list-link">API FAQ</a><ul class="nav-list"><li class="nav-list-item"><a href="/api-faq/how-is-the-tradovate-api-partitioned" class="nav-list-link">How is the Tradovate API Partitioned</a></li><li class="nav-list-item"><a href="/api-faq/how-to-handle-data-size-limits" class="nav-list-link">How to Handle Data Size Limits</a></li><li class="nav-list-item"><a href="/api-faq/how-to-handle-request-size-limits" class="nav-list-link">How to Handle Request Size Limits</a></li><li class="nav-list-item"><a href="/api-faq/rest-vs-wss" class="nav-list-link">REST API vs. WebSocket API</a></li></ul></li><li class="nav-list-item"><a href="/resources/" class="nav-list-link">Resources</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Just the Docs Template" aria-label="Search Just the Docs Template" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/wss-guide/">WebSocket Guide</a></li> <li class="breadcrumb-nav-list-item"><span>Message Protocol</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="server-frames"> <a href="#server-frames" class="anchor-heading" aria-labelledby="server-frames"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server Frames </h1> <p>The WebSocket server communicates in <em>frames</em>. A frame consists of two parts - a ‘type’ prefix character and an array of JSON data. These two parts are concatenated into a string, and we will be responsible for creating the logic to deconstruct such messages on the client. The following are the message types supported and sent by the Tradovate WebSocket:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">'o'</code>: Open frame. Every time a new session is established, the server must immediately send the open frame. This is required, as some protocols (mostly polling) can’t distinguish between a properly established connection and a broken one - we must convince the client that it is indeed a valid URL and it can be expecting further messages in the future via that URL.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">'h'</code>: Heartbeat frame. Most loadbalancers have arbitrary timeouts on connections. In order to keep connections from breaking, the server must send a heartbeat frame every now and then. The server sends a heartbeat about every 2.5 seconds, and to keep the connection alive the client must also send a response beat in the form of an empty array, stringified (<code class="language-plaintext highlighter-rouge">'[]'</code>)</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">'a'</code>: A string containing an Array of JSON-encoded messages. For example: <code class="language-plaintext highlighter-rouge">'a[{"data": "value"}]'</code>.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">'c'</code>: Close frame. This frame is send to the browser every time the client asks for data on closed connection. This may happen multiple times. Close frame contains a code and a string explaining a reason of closure, like: <code class="language-plaintext highlighter-rouge">c[3000, "Go away!"]</code>.</p> </li> </ul> <h2 id="decoding-server-frames"> <a href="#decoding-server-frames" class="anchor-heading" aria-labelledby="decoding-server-frames"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Decoding Server Frames </h2> <p>Tradovate uses ‘a’ frames as a backbone for its own message protocol. Below are a few bits of example data.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a[{"s":200,"i":23,"d":{"id":65543,"name":"CLZ6","contractMaturityId":6727}}]
a[{"e":"props","d":{"entityType":"order","eventType":"Created","entity":{"id":210518,"accountId":25,"contractId":560901,"timestamp":"2016-11-04T00:02:36.626Z","action":"Sell","ordStatus":"PendingNew","admin":false}}}]
</code></pre></div></div> <p>You can quickly parse frames into more consumable data using a function such as the <code class="language-plaintext highlighter-rouge">decodeMessage</code> example below. It will turn the string message into a tuple that you can destructure.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">decodeMessage</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">payload</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">payload</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">T</span><span class="p">,</span> <span class="nx">payload</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">//usage:</span>
<span class="nx">mySocket</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="nx">msg</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//data may be null</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">T</span><span class="p">,</span> <span class="nx">data</span><span class="p">]</span> <span class="o">=</span> <span class="nf">decodeMessage</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">//react to data</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h1 id="message-types"> <a href="#message-types" class="anchor-heading" aria-labelledby="message-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Message Types </h1> <p>There are a variety of message types that can be sent by the WebSocket. The message types can be sorted into two overarching message categories - Server Events and Client Responses.</p> <h2 id="server-event-message"> <a href="#server-event-message" class="anchor-heading" aria-labelledby="server-event-message"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Server Event Message </h2> <p>A Server Event Message is sent from the server, not regarding an outgoing request initiated by the client. These messages come in a few varieties. In each response object, the <code class="language-plaintext highlighter-rouge">"e"</code> field specifies the server event type:</p> <h3 id="props-server-event"> <a href="#props-server-event" class="anchor-heading" aria-labelledby="props-server-event"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">"props"</code> Server Event </h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">e</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">props</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">d</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">entityType</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">order</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">eventType</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Created</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">entity</span><span class="dl">"</span><span class="p">:{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">210518</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">accountId</span><span class="dl">"</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">contractId</span><span class="dl">"</span><span class="p">:</span><span class="mi">560901</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2016-11-04T00:02:36.626Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ordStatus</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">PendingNew</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">admin</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>This is a notification that an entity was created, updated or deleted. The <code class="language-plaintext highlighter-rouge">"d"</code> field specifies details of the event. Each <code class="language-plaintext highlighter-rouge">"props"</code> type event will have the following fields:</p> <ul> <li><code class="language-plaintext highlighter-rouge">"entityType"</code> - defines the type of the entity that triggered the event.</li> <li><code class="language-plaintext highlighter-rouge">"entity"</code> - The actual entity object as JSON. For more details on the structure of various entity objects, explore the <a href="/entity-system/index">Enitities Index</a> pages.</li> <li><code class="language-plaintext highlighter-rouge">"eventType"</code> - <code class="language-plaintext highlighter-rouge">"Created"</code>, <code class="language-plaintext highlighter-rouge">"Updated"</code> or <code class="language-plaintext highlighter-rouge">"Deleted"</code>. Represents the action that ocurred with this entity as the target.</li> </ul> <h3 id="shutdown-server-event"> <a href="#shutdown-server-event" class="anchor-heading" aria-labelledby="shutdown-server-event"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">"shutdown"</code> Server Event </h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">e</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">shutdown</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">d</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">reasonCode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Maintenance</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">ConnectionQuotaReached</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">IPQuotaReached</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reason</span><span class="dl">"</span><span class="p">:</span> <span class="nx">string</span> <span class="c1">//may not always be present</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>A notification before graceful shutdown of the socket connection. The <code class="language-plaintext highlighter-rouge">"d"</code> field specifies details:</p> <ul> <li><code class="language-plaintext highlighter-rouge">"reasonCode"</code> field with options “Maintenance”, “ConnectionQuotaReached”, “IPQuotaReached”</li> <li><code class="language-plaintext highlighter-rouge">"reason"</code> field is optional and may contain a readable explanation</li> </ul> <h3 id="md-server-event-market-data"> <a href="#md-server-event-market-data" class="anchor-heading" aria-labelledby="md-server-event-market-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">"md"</code> Server Event (Market Data) </h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">e</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">md</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">d</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">quotes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2021-04-13T04:59:06.588Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">contractId</span><span class="dl">"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">entries</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">Bid</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18405.123</span><span class="p">,</span> <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mf">7.123</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">TotalTradeVolume</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mf">4118.123</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">Offer</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18410.012</span><span class="p">,</span> <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mf">12.35</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">LowPrice</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18355.23</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18405.023</span><span class="p">,</span> <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mf">2.10</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">OpenInterest</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mf">40702.024</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">OpeningPrice</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18515.123</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">HighPrice</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18520.125</span> <span class="p">},</span>
                    <span class="dl">"</span><span class="s2">SettlementPrice</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mf">18520.257</span> <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>These notifications are used by market data feed services only. Market Data is an advance API feature that requires CME Market Data Subvendor status in order to use. See the Market Data section for more details.</p> <h3 id="clock-server-event-replay"> <a href="#clock-server-event-replay" class="anchor-heading" aria-labelledby="clock-server-event-replay"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">"clock"</code> Server Event (Replay) </h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">e</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">clock</span><span class="dl">"</span><span class="p">,</span>
    <span class="c1">//the "d" field is JSON, you must decode it.    </span>
    <span class="dl">"</span><span class="s2">d</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">t</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2019-08-26T16:43:08.599Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">s</span><span class="se">\"</span><span class="s2">:20}</span><span class="dl">"</span> 
<span class="p">}</span> 

</code></pre></div></div> <p>Market Replay clock synchronization message. See the Market Replay section for more details.</p> <h2 id="client-response-message"> <a href="#client-response-message" class="anchor-heading" aria-labelledby="client-response-message"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Client Response Message </h2> <p>A Client Response Message is issued when a client makes a request. These messages are intended to mimic REST API responses and have the following structure:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">i</span><span class="dl">"</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">s</span><span class="dl">"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">d</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">478866</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">6EZ6</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">contractMaturityId</span><span class="dl">"</span><span class="p">:</span><span class="mi">23574</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">"i"</code> field is a id of corresponding client request (see “Client requests” below). A responses id will always match the id of the request that generated it.</li> <li><code class="language-plaintext highlighter-rouge">"s"</code> field is a HTTP status code of response</li> <li><code class="language-plaintext highlighter-rouge">"d"</code> field is a content of response. If HTTP status is 2xx, this field contains JSON response as defined in Swagger specification of the corresponding request. Otherwise, <code class="language-plaintext highlighter-rouge">"d"</code> is a string representation of error text.</li> </ul> <h2 id="client-requests"> <a href="#client-requests" class="anchor-heading" aria-labelledby="client-requests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Client Requests </h2> <p>We use standard text documents for our client request protocol, with lines delimited by <code class="language-plaintext highlighter-rouge">\n</code> newline characters.</p> <p>Each document sent by the client contains exactly one request. The frame consists of four fields:</p> <ul> <li>An endpoint name as defined in the spec. These are any of the endpoints that you could request from the standard REST API.</li> <li>A unique integer ID of the request. The ID should be unique in the scope of the current connection. This ID will be used as a reference by the server in the response messages (see “Response Message” above)</li> <li>an optional field with parameters identical to query parameters of REST API</li> <li>an optional field that is identical to a body parameter of REST API</li> </ul> <p>The four fields <em>must be</em> separated by the <code class="language-plaintext highlighter-rouge">'\n'</code> (“new line”) character. This is how message parameters are delimited when they get decoded.</p> <h3 id="request-examples"> <a href="#request-examples" class="anchor-heading" aria-labelledby="request-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Request Examples </h3> <p>An example of a request without query or body:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>executionReport/list
4

</code></pre></div></div> <p>An example of a request with a query parameter:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tradingPermission/ldeps
8
masterids=1
</code></pre></div></div> <p>An example of a request with a body:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>contract/rollcontract
33

{"name":"YMZ6","forward":true,"ifExpired":true}
</code></pre></div></div><hr /> <p><a href="/wss-guide/" class="btn btn-blue"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="12" height="12" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 298 511.93"><path fill-rule="nonzero" fill="white" d="M285.77 441c16.24 16.17 16.32 42.46.15 58.7-16.16 16.24-42.45 16.32-58.69.16l-215-214.47c-16.24-16.16-16.32-42.45-.15-58.69L227.23 12.08c16.24-16.17 42.53-16.09 58.69.15 16.17 16.24 16.09 42.54-.15 58.7l-185.5 185.04L285.77 441z"></path></svg> Introduction</a> <a href="/wss-guide/heartbeats" class="btn btn-blue text-grey-lt-000 float-right">Heartbeats <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="12" height="12" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 298 511.93"><path fill-rule="nonzero" fill="white" d="M70.77 499.85c-16.24 16.17-42.53 16.09-58.69-.15-16.17-16.25-16.09-42.54.15-58.7l185.5-185.03L12.23 70.93c-16.24-16.16-16.32-42.45-.15-58.7 16.16-16.24 42.45-16.32 58.69-.15l215.15 214.61c16.17 16.25 16.09 42.54-.15 58.7l-215 214.46z"></path></svg></a></p><hr /> </main> </div> </div> <div class="search-overlay"></div> </div> <div class="tdv-rightbar"></div> <script> const keySvg = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#bbb" viewBox="0 0 20 20"><title>key</title><path d="M15 6a1.54 1.54 0 0 1-1.5-1.5 1.5 1.5 0 0 1 3 0A1.54 1.54 0 0 1 15 6zm-1.5-5A5.55 5.55 0 0 0 8 6.5a6.81 6.81 0 0 0 .7 2.8L1 17v2h4v-2h2v-2h2l3.2-3.2a5.85 5.85 0 0 0 1.3.2A5.55 5.55 0 0 0 19 6.5 5.55 5.55 0 0 0 13.5 1z"/></svg>`; const mdSize = 800; const smSize = 500; let ratio = window.innerWidth / window.innerHeight; const isSmall = () => window.innerWidth < mdSize; const mainContent = document.querySelector('.main-content'); const search = document.querySelector('.search-input-wrap'); const TDV = Symbol.for('tdv-docs'); const SiteStorage = window[TDV].SiteStorage; const Authenticator = window[TDV].Authenticator; /*LOCK*/ const lock = document.createElement('div'); lock.id = 'tdv-lock'; lock.style.position = 'absolute'; lock.style.zIndex = 100; lock.style.top = window.innerWidth > mdSize ? `12px` : `72px`; lock.style.right = window.innerWidth > mdSize ? '64px' : `10px`; lock.style.transition = '.33s transform ease-out'; lock.style.transformOrigin = 'center'; lock.style.cursor = 'pointer'; /*OVERLAY*/ const overlay = document.createElement('div'); overlay.style.height = window.innerHeight + 'px'; overlay.style.width = window.innerWidth + 'px'; overlay.style.backgroundColor = '#0005'; overlay.style.position = 'fixed'; overlay.style.top = 0; overlay.style.left = 0; overlay.id = 'full-overlayer'; overlay.style.zIndex = 101; overlay.style.display = 'flex'; overlay.style.justifyContent = 'center'; overlay.style.alignItems = 'center'; overlay.style.transition = 'all .33ms ease-out'; /*MODAL*/ const modal = document.createElement('div'); const topBar = document.createElement('div'); const tokenInput = document.createElement('input'); const close = document.createElement('div'); const submit = document.createElement('button'); const logout = document.createElement('button'); const heading = document.createElement('h2'); const mbox = mainContent.getBoundingClientRect(); heading.innerText = 'Enter Your Access Token'; heading.style.justifySelf = 'start'; submit.id = 'submit-btn'; submit.classList.add('btn'); submit.textContent = 'Authorize'; logout.id = 'logout-btn'; logout.classList.add('btn'); logout.textContent = 'Log Out'; modal.style.zIndex = 102; modal.style.minHeight = '250px'; modal.style.height = winPercent(.3) + '%'; modal.style.width = Math.max(50, winPercent((100 - 35*ratio)/100)) + '%'; modal.classList.add('bg-grey-dk-300'); modal.style.display = 'flex'; modal.style.alignItems = 'center'; modal.style.justifyContent = 'space-evenly'; modal.style.flexDirection = 'column'; modal.style.boxShadow = '0 0 5px -2px'; modal.style.borderRadius = '4px'; modal.style.backdropFilter = 'blur(2px)'; modal.classList.add('main-content'); modal.style.transition = 'all .33ms ease-out'; const modalInnerWrapper = document.createElement('div'); modalInnerWrapper.style.height = '100%'; modalInnerWrapper.style.width = '75%'; modalInnerWrapper.style.display = 'flex'; modalInnerWrapper.style.alignItems = 'start'; modalInnerWrapper.style.justifyContent = 'space-evenly'; modalInnerWrapper.style.flexDirection = 'column'; tokenInput.type = 'text'; tokenInput.id = 'access-token-input'; tokenInput.style.backgroundColor = '#27262b'; tokenInput.style.color = 'white'; tokenInput.style.padding = '4px'; tokenInput.placeholder = '12345-abcde...'; tokenInput.style.border = 'none'; tokenInput.style.outline = 'none'; tokenInput.style.borderBottom = '1px solid grey'; tokenInput.style.height = '64px'; tokenInput.style.width = '100%'; const inputLabel = document.createElement('label'); inputLabel.style.position = 'relative'; inputLabel.style.width = '100%'; const inputKeyTag = document.createElement('svg'); inputKeyTag.innerHTML = keySvg; tokenInput.addEventListener('focusin', () => { inputKeyTag.style.transform = isSmall() ? 'scale(1.5)' : 'scale(2)'; inputKeyTag.firstElementChild.style.fill = '#f77e7e'; inputKeyTag.style.left = '-32px'; inputKeyTag.style.top = '20px'; }); tokenInput.addEventListener('focusout', () => { inputKeyTag.style.transform = isSmall() ? '' : 'scale(1.5)'; inputKeyTag.firstElementChild.style.fill = '#bbb'; inputKeyTag.style.left = '-24px'; inputKeyTag.style.top = '24px'; }); inputLabel.appendChild(inputKeyTag); inputKeyTag.style.position = 'absolute'; inputKeyTag.style.transform = isSmall() ? '' : 'scale(1.5)'; inputKeyTag.style.left = '-24px'; inputKeyTag.style.top = '24px'; inputKeyTag.style.transition = 'all .25s ease-out'; inputLabel.appendChild(tokenInput); close.style.position = 'absolute'; close.style.top = '4px'; close.style.right = '0px'; close.style.height = '48px'; close.style.width = '48px'; close.innerText = '❌'; close.style.fontSize = '20px'; close.style.cursor = 'pointer'; modalInnerWrapper.appendChild(heading); modalInnerWrapper.appendChild(inputLabel); modalInnerWrapper.appendChild(submit); modalInnerWrapper.appendChild(close); modal.appendChild(modalInnerWrapper); overlay.appendChild(modal); window.addEventListener('resize', () => { ratio = window.innerWidth / window.innerHeight; overlay.style.height = window.innerHeight + 'px'; overlay.style.width = window.innerWidth + 'px'; modal.style.height = winPercent(.3) + '%'; modal.style.width = Math.max(50, winPercent((100 - 35*ratio)/100)) + '%'; lock.style.top = window.innerWidth > mdSize ? `12px` : `72px`; lock.style.right = window.innerWidth > mdSize ? '64px' : `10px`; }); lock.addEventListener('mouseenter', _ => { lock.style.transform = 'scale(1.1)'; }); lock.addEventListener('mouseleave', _ => { lock.style.transform = 'scale(1)'; }); lock.addEventListener('click', async _ => { let result = SiteStorage.getLockedIn(); const over = document.querySelector('full-overlayer'); if(!over) { document.body.appendChild(prepOverlay(result)); } }); close.addEventListener('click', _ => { removeOverlay(); }); submit.addEventListener('click', async _ => { let maybeToken = document.getElementById('access-token-input'); await Authenticator.authenticate(maybeToken.value); if(Authenticator.isAuthenticated()) { removeOverlay(); maybeToken.style.border = 'none'; alert('API Authorization successful.'); } else { heading.textContent = 'Token Was Invalid!'; maybeToken.style.border = '1px solid red'; } }); logout.addEventListener('click', async _ => { Authenticator.logout(); removeOverlay(); }); Authenticator.setLockElement(lock); mainContent.appendChild(lock); /*UTILS*/ function removeOverlay() { let over = document.getElementById('full-overlayer'); if(over) { overlay.style.opacity = '0'; overlay.remove(); } } function prepOverlay(result) { const _submit = modalInnerWrapper.querySelector('#submit-btn'); const _logout = modalInnerWrapper.querySelector('#logout-btn'); const input = modalInnerWrapper.querySelector('input'); const key = modalInnerWrapper.querySelector('svg'); const h2 = modalInnerWrapper.querySelector('h2'); if(result) { h2.textContent = 'API Is Authorized'; if(input && key) { inputLabel.remove(); } if(_submit) { modalInnerWrapper.replaceChild(logout, submit); } else { modalInnerWrapper.appendChild(logout); } } else { h2.textContent = 'Enter Your Access Token'; if(_logout) { modalInnerWrapper.replaceChild(submit, logout); } else { modalInnerWrapper.appendChild(submit); } if(!input && !key) { tokenInput.value = ''; submit.parentElement.insertBefore(inputLabel, submit); } } overlay.style.opacity = '1'; return overlay; } function winPercent(decimalPercent) { return (((window.innerHeight * decimalPercent)/window.innerHeight)*100); } </script> </body> </html>
